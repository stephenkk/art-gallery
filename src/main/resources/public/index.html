<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spring boot index page example</title>
</head>
<body>
   <!-- <form action="/api/v1/art-gallery" method="get"> -->
			
			<input type="SUBMIT" value="Submit"onclick="myFunction()"  />
	 <!--	</form> -->
</body>
</html>
<script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>
<script>
	
async function myFunction() {
    let response = await fetch('http://localhost:8080/api/v1/art-gallery');
    let data = await response.json();
   // console.log(data);
    processImages(data);
}

const rp = require('request-promise')
let URL = "https://collectionapi.metmuseum.org/public/collection/v1/objects/"

async function processImages(data){
    let result;
    for(let i = 0; i < data.objectIDs.length; i++){
       let response  = await make_api_call(data.objectIDs[i]);
       result  =  await response.json();
        console.log(result.primaryImageSmall);
    }
   // return user_list;
}
// this will hit api https://collectionapi.metmuseum.org/public/collection/v1/objects/1 
function make_api_call(id){
    return rp({
        url : `${URL}${id}`,
        method : 'GET',
        json : true
    })
}
</script>